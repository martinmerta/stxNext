(window.webpackJsonpstxnext=window.webpackJsonpstxnext||[]).push([[0],[,,,,function(e,t,n){e.exports=n(11)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(3),c=n.n(r),i=(n(9),n(1)),l=function(e){var t=e.title,n=e.img,o=e.description,r=o?"".concat(o.substring(0,200),"..."):"There is no description for this book";return a.a.createElement("div",{className:"book"},a.a.createElement("h1",{className:"book-title"},t),a.a.createElement("img",{className:"book-Img",src:"".concat(n),alt:t}),a.a.createElement("p",{className:"book-desc"},r))},s=function(e){var t=e.books,n=Object(o.useState)(!1),a=Object(i.a)(n,2),r=a[0],c=a[1];return Object(o.useEffect)((function(){return window.addEventListener("scroll",(function(){if(window.innerHeight+document.documentElement.scrollTop!==document.documentElement.offsetHeight)return c(!0)})),function(){return window.removeEventListener("scroll",(function(){if(window.innerHeight+document.documentElement.scrollTop!==document.documentElement.offsetHeight)return c(!0)}))}}),[]),!r&&t.length>3?t.slice(0,2):t},u=function(e){var t=e.searchBy,n=e.inputValue,r=Object(o.useState)([]),c=Object(i.a)(r,2),u=c[0],m=c[1],f=Object(o.useState)([]),h=Object(i.a)(f,2),d=h[0],v=h[1];return Object(o.useEffect)((function(){var e=new AbortController;return fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(t,":").concat(n),{signal:e.signal,method:"GET",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Methods":"POST, GET","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error("".concat(e.status," Sorry something gone wrong.. ;("))})).then((function(e){m(e.items)})).catch((function(e){return new Error(e.message)})),function(){return e.abort()}}),[t,n]),Object(o.useEffect)((function(){var e=0;if(void 0===u)return v(a.a.createElement(l,{title:"Upps.. Smomething gone wrong..",description:"Please try again"}));var t=u.map((function(t){e++;var n=t.volumeInfo,o=n.title,r=n.description,c=t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:null;return a.a.createElement(l,{title:o,img:c,description:r,key:o+e})}));return void 0!==t?v(t):void 0}),[u]),a.a.createElement(s,{books:d})};n(10);var m=function(){var e=Object(o.useState)("intitle"),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(o.useState)(""),l=Object(i.a)(c,2),s=l[0],m=l[1];return a.a.createElement("div",{className:"App"},a.a.createElement("h1",{className:"helloTitle"},"Hello, welcome to the best book searching site ever!"),a.a.createElement("form",{className:"form"},a.a.createElement("label",null,"Type what you want to search:",a.a.createElement("input",{type:"text",name:"inputValue",value:s,onChange:function(e){var t=e.currentTarget.value;m(t)}})),a.a.createElement("label",null,"Search by:",a.a.createElement("select",{value:n,onChange:function(e){var t=e.currentTarget.value;r(t),m("")}},a.a.createElement("option",{value:"intitle"},"title"),a.a.createElement("option",{value:"inauthor"},"author"),a.a.createElement("option",{value:"inpublisher"},"publisher"),a.a.createElement("option",{value:"isbn"},"ISBN number")))),""!==s?a.a.createElement(u,{searchBy:n,inputValue:s}):null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[4,1,2]]]);
//# sourceMappingURL=main.b10453fa.chunk.js.map